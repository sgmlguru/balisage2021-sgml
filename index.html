<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Pipelined XSLT</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/black.css" id="theme">
		
		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				
				<!-- START of Intro -->
				<section data-background="img/" data-background-size="110%">
					
					<section>
						
						<h1 style="">Topic-based SGML?</h1>
						<h1>Really?</h1>
						
						<h3 style="">Balisage 2021</h3>
						
						<p style="font-size: smaller;">Ari Nordstr√∂m | ari.nordstrom@gmail.com</p>
						
						<aside class="notes">
							
						</aside>
					</section>
					
					<section>
						<p>Me?</p>
						
						<aside class="notes">
							<p>SGML and XML geek</p>
							<p>Tech pubs</p>
							<p>Legal pub</p>
							<p>Transforms</p>
							<p>Doc management</p>
						</aside>
					</section>
					
					<section>
						<p>SLM</p>
						
						<aside class="notes">
							<p>Automotive</p>
							<p>Aerospace</p>
						</aside>
					</section>
					
					<section>
						<p>Topics</p>
						
						<aside class="notes">
							<p>DITA</p>
							<p>S10000D</p>
						</aside>
					</section>
					
					<section>
						<p>ATA</p>
						
						<aside class="notes">
							<p>iSpec 1000 - systems-oriented</p>
							<p>iSpec 2200 - doc standard, SGML</p>
						</aside>
					</section>
					
					<section>
						<p>SGML?</p>
						
						<!-- What it was/is -->
						<!-- XML - the SGML good parts -->
					</section>
					
					<!--<section>
						<p></p>
						
						<span>
							<img src="img/" alt="" width="400"/>
						</span>
						
						<aside class="notes">
							
						</aside>
					</section>-->
					
				</section>
				
				<!-- END of Intro -->
				
				
				
				<!-- START of SLM -->
				
				<section>
					<section>
						<h3>SLM</h3>
					</section>
					
					<section>
						<p>Engineering data</p>
						
						<aside class="notes">
							<ul>
								<li>Parts lists</li>
								<li>Procedures</li>
							</ul>
						</aside>
					</section>
					
					<section>
						<p>Marry CAD with topics</p>
						
						<span>
							<img src="img/Bal2021nord01280102.png" alt="Rapid Author and engineering data"/>
						</span>
						
						<aside class="notes">
							<p>Tasks and parts lists can be generated from the engineering data</p>
							<p>Which brings me to Siemens Teamcenter (and others like it)</p>
						</aside>
					</section>
					
					<section>
						<p>Teamcenter CMS Module</p>
						<span>
							<img src="img/Bal2021nord01280103.png" alt="Publication Structure in Teamcenter CMS"/>
						</span>
						
						<aside class="notes">
							<p>CMS module - use TC as a CMS alongside the CAD</p>
							<p>There's revisions, publishing, etc</p>
						</aside>
					</section>
					
					<section>
						<!-- XML attr mapping example -->
						<p>Decompose into topics: <q>XML Attribute Mapping</q></p>
						<span>
							<img src="img/Bal2021nord01280104.png" alt="XML attribute mapping in Teamcenter"/>
						</span>
						
						<aside class="notes">
							<p>Everything is seens as <q>topics</q></p>
							<p>XPath-like decompose rules</p>
							<p>Think of it as XPath - the bad parts</p>
						</aside>
					</section>
					
					<section>
						<ul>
							<li>DITA, S1000D...</li>
							<li>
								<q>Any XML DTD...</q>
							</li>
						</ul>
					</section>
					
					<section>
						<p>...and SGML</p>
						
						<aside class="notes">
							<p>It's in their sales specs</p>
						</aside>
					</section>
					
				</section>
				
				<!-- END of SLM -->
				
				
				
				<!-- START of TC Sales Team -->
				
				<section>
					
					<section>
						<h3>The Power of a Good Sales Team</h3>
					</section>
					
					<section>
						<p>The client:</p>
						<ul>
							<li>Already uses Teamcenter</li>
							<li>S1000D for some products</li>
							<li>ATA iSpec 2200 SGML</li>
						</ul>
						
						<aside class="notes">
							<p>Customised DTDs (ATA compliance level)</p>
						</aside>
					</section>
					
					<section>
						<p><q>Yes, we support SGML</q></p>
						
						<aside class="notes">
							<p>PoC with EM, SB discussed</p>
							<p>20+ MB EM, 6,000 images</p>
							<p>We'll decompose your EM into topics</p>
						</aside>
					</section>
					
					<!-- Extra slide on EM and entities? -->
				</section>
				
				<!-- END of TC Sales Team -->
				
				
				
				<!-- START of SGML Support -->
				
				<section>
					<section>
						<h3>But Does It Really?</h3>
						
						<aside class="notes">
							<p>I started testing days after joining</p>
							<p>I taught myself TC alongside the testing</p>
						</aside>
					</section>
					
					<section>
						<p>Nope</p>
						
						<aside class="notes">
							<p>Import would stop</p>
						</aside>
					</section>
					
				</section>
				
				<!-- END of SGML Support -->
				
				
				
				<!-- START of PoC Prepping -->
				
				<section>
					
					<section>
						<h3>Why Not?</h3>
						
						<aside class="notes">
							<p>TC does XML internally</p>
							<p>Thinking S1000D 1.8 SGML was the only previous test</p>
							<p>No decompose needed</p>
						</aside>
					</section>
					
					<section>
						<p>Beta Testing DLLs</p>
						
						<aside class="notes">
							<p>First fix allowed import, decompose to complete</p>
						</aside>
					</section>
					
					<!-- ADD: suitable graphic as background -->
					<section>
						<p>Graphic Entities</p>
						
						<pre>
                            <code class="xml" data-trim data-noescape>&lt;!ENTITY g5027619-00.cgm SYSTEM "g5027619-00.cgm" NDATA cgm></code>
						</pre>
						
						<aside class="notes">
							<p>6,000 images in the engine manual</p>
							<p>Note the format: name.suffix</p>
						</aside>
					</section>
					
					<section>
						<p>Graphic Entities</p>
						
						<pre>
                            <code class="xml" data-trim data-noescape>&lt;!ENTITY name SYSTEM "name.suffix" NDATA CGM></code>
						</pre>
						
						<aside class="notes">
							<p><q>We don't support entities</q></p>
							<p>One entity format recognised</p>
							<p>I had to write a preprocessing thingy</p>
						</aside>
					</section>
					
					<section>
						<p>Graphic Entities</p>
						
						<pre>
                            <code class="xml" data-trim data-noescape>&lt;!ENTITY name.suffix SYSTEM "name.suffix" NDATA CGM></code>
						</pre>
						
						<!-- Show on click -->
						<pre>
                            <code class="xml" data-trim data-noescape>&lt;!ENTITY name.suffix SYSTEM "name.suffix.suffix" NDATA CGM></code>
						</pre>
						
						<aside class="notes">
							<p>This was common (and I understand why)</p>
							<p>So I tried this but TC wouldn't accept it</p>
							<p>(because the entity name mapping rules look for suffixes)</p>
							<p>And of course, there were variations of the naming conventions</p>
						</aside>
					</section>
					
					<section>
						<p><code>DOCTYPE</code></p>
						
						<!-- Screenshot 6000 lines -->
						<span>
							<img src="img/6000-lines.png" alt="6000 lines of graphic entity declarations"/>
						</span>
						
						<aside class="notes">
							<p>Remember those 6,000 entities?</p>
							<p>Every <q>topic</q> had DOCTYPE with ALL declarations</p>
							<p>And duplicates</p>
							<p>Slow checkout</p>
						</aside>
					</section>
					
					<section>
						<p>SGML Inclusions</p>
						
						<!-- N&F image -->
						<span>
							<img src="img/em-dtd-inclusions.png" alt="EM DTD inclusions on root element" style="width: 40%"/>
						</span>
						
						<aside class="notes">
							<p>SGML inclusions - revision markers, effectivity, etc - used all over the EM</p>
							<p>Note the inclusion in root</p>
						</aside>
					</section>
					
					<section>
						<p><code>EMPTY</code> elements</p>
						
						<!-- EMPTY element in SGML -->
						<pre>
                            <code class="xml" data-trim data-noescape>&lt;PARA>S/B&lt;SBNBR>73-0177&lt;/SBNBR>,
&lt;REVST>Revision 1&lt;REVEND>&lt;/PARA></code>
						</pre>
						
						<!-- EMPTY elements checked out, extra end tags -->
						<pre class="fragment">
                            <code class="xml" data-trim data-noescape>&lt;PARA>S/B&lt;SBNBR>73-0177&lt;/SBNBR>,
&lt;REVST>Revision 1&lt;/REVST>&lt;/REVEND>&lt;/PARA></code>
						</pre>
						
						<aside class="notes">
							<p>This is what TC checked out to the editor</p>
							<p>Extra end tags inserted</p>
						</aside>
					</section>
					
					<section>
						<p><code>EMPTY</code> elements</p>
						
						<!-- EMPTY element end tag in impossible place -->
						<pre>
                            <code data-line-numbers="2" class="xml" data-trim data-noescape>&lt;/SUBTASK>&lt;/TASKPROC>
&lt;/REVEND>
&lt;/TASK>&lt;/PGBLK>&lt;/SUBJECT>&lt;/SECTION>&lt;/CHAPTER>&lt;/EM></code>
						</pre>
						
						<aside class="notes">
							<p>And sometimes in impossible places</p>
						</aside>
					</section>
					
					<section>
						<p>Dropping Content</p>
						
						<!-- SGML attr with apostrophe example -->
						<!-- Include entire start tag -->
						
						<aside class="notes">
							<p>But far worse were things like this</p>
						</aside>
					</section>
					
					<section>
						<p>Dropping Content</p>
						
						<!-- CHECKED OUT: SGML attr with apostrophe example, content dropped -->
						<!-- Entire start tag, with required attrs dropped -->
						
						<aside class="notes">
							<p>Content would be silently dropped after the apostrophe</p>
							<p>Plus ALL attributes after the offending one, in document order</p>
						</aside>
					</section>
					
					<section>
						<p>Publishing</p>
						<p class="fragment"><q>DSSSL, anyone?</q></p>
						
						<aside class="notes">
							<p>Publishing was always going to be in	 XML (nobody wanted DSSSL)</p>
						</aside>
					</section>
					
					<section>
						<p>Publishing</p>
						
						<ol>
							<li>SP for SGML to XML syntax - <q>ATA-like XML</q></li>
							<li class="fragment">XProc pipeline to convert to <q>monolithic DITA</q></li>
							<li class="fragment">XSLT to break apart to DITA topics</li>
							<li class="fragment">DITA stylesheets</li>
						</ol>
						
						<aside class="notes">
							<p>Conversion to XML</p>
							<p>We already had the DITA stylesheets (Ant+XSLT 1.0)</p>
						</aside>
					</section>
					
					<section>
						<p>(etc)</p>
						
						<aside class="notes">
							<p>And so on</p>
							<p>Of course, we could blame Siemens</p>
							<p>and the sales team</p>
							<p>but</p>
						</aside>
					</section>
					
				</section>
				
				<!-- END of PoC Prepping -->
				
				
				
				<!-- START of Is SGML Workable? -->
				
				<section>
					
					<section>
						<h3>Is SGML (Still) Workable?</h3>
						
						<aside class="notes">
							<p>This is the question, really</p>
						</aside>
					</section>
					
					<section>
						<ul>
							<li>Three (3) production-quality editors still around</li>
							<li class="fragment">Few tools support SGML</li>
							<li class="fragment">Few people know SGML</li>
						</ul>
						
						<aside class="notes">
							<p>Client was forced into this because their existing systems were no longer supported</p>
							<p>Starting this project, I asked around for an SGML editor - do emacs</p>
							<p>Plus, few people know SGML</p>
						</aside>
					</section>
					
					<section>
						<p>XML is <q>SGML, the good parts</q></p>
						
						<aside class="notes">
							<p>XML's got the infrastructure (all those things starting with X)</p>
							<p>TC already does XML internally (and the conversion sucks)</p>
							<p>Publishing easy</p>
							<p>SGML to XML, XML to SGML also easy</p>
						</aside>
					</section>
					
				</section>
				
				<!-- END of Is SGML Workable? -->
				
				
				
				<!-- START of How About XML-only? -->
				
				<section>
					
					<section>
						<h3>How About XML?</h3>
						
						<aside class="notes">
							<p>Client tried moving to XML, failed</p>
							<p>SGML exchanged with partners, customers</p>
							<p>XML gives us a choice of editors, tools, etc</p>
						</aside>
					</section>
					
					<section>
						<p><q>ATA-like XML</q> DTDs</p>
						
						<ul>
							<li class="fragment">SGML inclusions => PIs</li>
							<li class="fragment">SGML exclusions => Schematron rules in editor</li>
							<li class="fragment">Graphic entities => href links</li>
						</ul>
						
						<aside class="notes">
							<p>Inclusions the big problem - use PIs in PoC</p>
							<p>Exclusions - use Schematron</p>
							<p>Get rid of entities, use href</p>
							<p>Took me a day or so to convert the DTDs</p>
						</aside>
					</section>
					
					<section>
						<p>Publish</p>
						<p class="fragment">We already have that</p>
						
						<aside class="notes">
							<p>We already have that</p>
							<p>Legacy conversion uses part of the demo SGML publishing</p>
							<p>ATA XML publishing uses the other part</p>
							<p>SGML itself is a publishing format</p>
						</aside>
					</section>
					
					<section>
						<p>SGML to XML import, legacy conversion</p>
						<p class="fragment">We already have that</p>
					</section>
					
					<section>
						<p>XML to SGML</p>
						<ol>
							<li class="fragment">Tweak models in XML</li>
							<li class="fragment">Generate SGML DOCTYPE (and entities) in XML</li>
							<li class="fragment">SP to convert to SGML syntax</li>
						</ol>
						
						<p class="fragment" style="text-align: left">Bonus feature: <br/>Easily tweak the SGML to fit different partners, customers</p>
						
						<aside class="notes">
							<p>Bonus feature: we can tweak the SGML to fit different partners, customers</p>
						</aside>
					</section>
				</section>
				
				<!-- END of How About XML-only? -->
				
				
				
				<!-- START of Now -->
				
				<section data-background="img/" data-background-size="100%">
					<section>
						<h3>ATA XML PoC In Progress As We Speak</h3>
						
						<aside class="notes">
							<p></p>
						</aside>
					</section>
					
					<section>
						<h3>SGML? Really?</h3>
						
						<aside class="notes">
							<!-- Is SGML an option still? No. -->
						</aside>
					</section>
					
					<section data-background="img/" data-background-size="118%">
						<h3>Thank You!</h3>
						
						<aside class="notes">
							<p>Questions?</p>
						</aside>
					</section>
					
				</section>
				
				<!-- END of Now -->
				
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
		
	</body>
</html>
